
- [1. 기능 탐지](#1-기능-탐지)
    - [기능탐지의 중요한 개념](#기능탐지의-중요한-개념)
  - [안전한 기능 탐지](#안전한-기능-탐지)
  - [기능 탐지는 브라우저 탐지가 아닙니다.](#기능-탐지는-브라우저-탐지가-아닙니다)
- [2. 쿽스 탐지](#2-쿽스-탐지)

# 클라이언트 탐지

브라우저 제조사들이 공통 인터페이스를 구현하기 위해 노력하긴 하지만 브라우저마다 기능과 단점이 있을 수 밖에 없습니다. 여러 플랫폼에서 동작하는 브라우저는 종종 플랫폼 별로, 심지어는 기술적으로 같은 버전인데도 서로 다른 문제를 갖고있습니다. 이러한 차이 때문에 웹 개발자들은 모든 브라우저에서 공통인 최소한의 기능만 이용하여 디자인하거나 다양한 클라이언트 탐지 방법을 통해 제한점을 우회하여 개발하곤 합니다.

모든 브라우저가 공통 기능을 지원한다면 필요없을 수 있겠으나, 현실에서는 브라우저 사이의 차이와 혼란스러운 점이 너무 많아 클라이언트 탐지는 보험처럼 만약을 대비한 수단일 수도 있지만 개발 전략에서 빼놓을 수 없는 중요 파트입니다.

어떤 웹 브라우저를 사용 중인지 알아내는 방법은 다양하며, 저마다 장단점이 있습니다. **클라이언트 탐지는 반드시 마지막 수단으로 미뤄둬야합니다.** 먼저 일반적인 솔루션을 사용하고 브라우저 전용 솔루션은 빠진 부분을 메꾸는 용도로만 사용하세요.

# 1. 기능 탐지

'기능탐지'는 클라이언트 탐지 중에서 가장 널리 쓰이는 방법입니다. 기능 탐지는 **어떤 기능이 지원되는지에 주목**합니다. 이 방법의 아이디어는 *브라우저 자체에 대한 지식은 불필요* 하며 필요한 *기능의 존재 여부에 따라 해결책을 찾을 수 있다*는 것 입니다. 기능 탐지의 기본 패턴은 **조건문을 사용**할 수 있습니다.

``` js
  if (object.propertyInQuestion) {
    // object.propertyInQuestion 사용
  }
```
> DOM 메서드인 `document.getElementById()` 는 IE5에서는 지원되지 않았었는데, 같은 기능을 비표준 `document.all` 프로퍼티로 구현 가능합니다. 따라서 기능 탐지를 이용해 필요한 일을 할 수 있습니다.
``` js
  function getElement(id) {
    if (document.getElementById) {
      return document.getElementById(id)
    } else if (document.all) {
      return document.all[id]
    } else {
      throw new Error('No way to retreive element!')
    }
  }
```
> 메서드가 존재할 경우를 체크하여 사용하거나, 둘 중 아무것도 존재하지 않을경우 함수를 실행할 수 없음을 알리는 에러를 반환합니다.

### 기능탐지의 중요한 개념

* 가장 일반적인 방법을 제일 먼저 테스트 해야함.
  > 가장 많이 사용하는 표준 메서드들을 먼저 테스트 하면 테스트할 조건 수가 줄어들어 코드 실행이 능률적입니다.

* *사용하려는 기능을 정확히 테스트 해야합니다.
  > 특정 기능이 어떤 브라우저에서 지원한다고 해서 결과값이 정확히 그 브라우저를 가리키지는 않을수도 있습니다. 항상 예외를 염두하고 코드를 짜야합니다.

## 안전한 기능 탐지

기능 탐지는 단순히 **원하는 기능이 존재하는지만이 아니라 그 기능이 정확히 동작함을 확인할 수 있을 때 가장 효과적**입니다. 이전 절의 예제는 테스트하는 객체 멤버가 존재하기만 한다면 메서드라는 확신, 일종의 **타입 강제(coercion: 코어션)**에 의존합니다. 사실 이름만으로 테스트한다면 객체에 해당 멤버가 존재하는지는 알 수 있지만 그 멤버가 정확히 원하는 것이라고 확신할 수는 없습니다.

``` js
  function isSortable () {
    return typeof object.sort === 'function'
  }
```
해당 예제는 `typeof` 연산자를 써서 `sort`가 실제 '함수'인지 확인하므로, 이를 호출해서 데이터를 정렬할 수 있는 방법입니다. 이럴 경우, Object의 `sort`가 프로퍼티로 존재할 경우 등은 코드를 실행하지 않습니다. 항상 `typeof` 를 이용하여 구별하는 방법이 옳지는 않지만, 이런식으로 Type을 확인하는 방법도 좋은 방법입니다.

## 기능 탐지는 브라우저 탐지가 아닙니다.

특정 기능이나 기능 집합을 탐지할 때 어떤 브라우저에서 실행 중인지 알 필요는 없습니다. 하지만 몇 가지 기능을 묶어 브라우저 그룹을 만드는 방법은 적절합니다. 어플리케이션에서 특정 브라우저 기능이 필요하다면 기능 탐지를 반복하기 보다는 한번에 하는 편이 훨씬 낫기 때문입니다.

``` js
  // 브라우저에서 넷스케이프스타일플러그인을 지원하는지 체크
  const hasNSPlugins = !!(navigator.plugins && navigator.plugins.length)

  // 브라우저에서 기본적인 DOM Level1 기능을 지원하는지 체크
  const hasDOM1 = !!(document.getElementById && document.createElement && document.getElementByTagName)
```

이 예제는 두가지를 탐지합니다. 반환하는 불리언 값은 나중에 다시 사용할 수 있으므로 기능을 또 탐지하는 것보다 효율적입니다.

기능탐지는 해결책을 찾지 못했을 때 쓴느 보험같은 것이지, 어떤 브라우저에서 실행중인지 알기 위함이 아닙니다.

# 2. 쿽스 탐지

기능 탐지와 비슷한 개념으로 '쿽스 탐지' 가 있습니다.

... 중단


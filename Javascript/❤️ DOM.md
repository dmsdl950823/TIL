DOM

문서 객체 모델 (DOM) 은 HTML 과 XML 문서에 대한 애플리케이션 프로그래밍 인터페이스 (API) 입니다. DOM은 문서를 노드의 계층 구조 트리로 표현하며 개발자는 이를 통해 페이지 각 부분을 추가, 제거, 수정 합니다. 넷스케이프 & MiocroSoft 에서 초기에 사용하던 동적 HTML(DHTML)을 계승한 DOM은 이제 진정으로 플랫폼과 언어에 독립적인 페이지 표현 및 조작 방법입니다.

DOM level 1 은 1998년 10월에 W3C 권고가 되었으며 기본적인 문서 구조와 쿼리 인터페이스를 제공합니다.

노드의 계층 구조

HTML과 XML 문서는 모두 DOM을 통해 노드의 계층 구조로 표현 가능합니다. 노드 타입에는 여러가지가 있으며 각 타입은 문서에서 서로 다른 정보나 마크업을 표현합니다. 각 노드 타입은 서로 다른 특징, 데이터, 메서드를 가지며 각 노드는 다른 노드와 관계가 있을 수 있습니다.  이러한 관계가 계층 구조를 생성하고 마크업은 이 관계를 통해 특정 노드에 뿌리root를 둔 트리 구조로 표현됩니다.

<html>
  <head>
    <title>Sample Page</title>
  </head>
  <body>
    <p>Hello World!</p>
  </body>
</html>
문서 노드는 각 문서를 루트root 로 표현합니다. 여기서 문서 노드(Document)의 자식은 <html > 요소 하나 뿐인데, 이를 '문서 요소' 라고 부릅니다. 문서 요소는 문서의 최상위 요소이며 다른 요소는 모두 이 안에 존재합니다. 문서 하나에 문서 요소 하나만 있을 수 있습니다. HTML 페이지에서 문서 요소는 항상 <html> 요소입니다. XML에서는 미리 지정된 문서 요소가 없으면 어떤 요소든 문서 요소가 될 수 있습니다.

각 마크업은 트리에서 노드로 표현됩니다. HTML 요소들은 요소 노드로, 속성은 속성노드로, 문서 타입은 문서 타입 노드로, 주석은 주석 노드로 표현됩니다. 총 12가지 노드 타입이 있으며 모든 노드는 기반base 타입을 상속합니다.

노드 타입 - Node Type

DOM level 1 에서는 Node

라는 인터페이스가 있는데, DOM에 존재하는 노드 타입은 모두 이 인터페이스를 구현합니다. Node 인터페이스는 자바스크립트에서 Node 타입으로 구현되며 IE를 제외한 모든 브라우저에서 Node 타입에 접근할 수 있습니다. JS의 노드 타입은 모두 Node를 상속하므로 모든 노드 타입에서 같은 기본 프로퍼티와 메서드를 공유합니다. 

모든 노드는 타입을 나타내는 nodeType 프로퍼티가 있습니다. 노드 타입은 다음 12가지 숫자형 상수중 하나입니다.

... 생략

프로퍼티	nodeType 숫자
Node.ELEMENT_NODE	1
// <h1 id="header">HELLO!</h1>
const h1 = document.getElementById('header')
const elementNode = Node.ELEMENT_NODE

console.log(h1.nodeType === elementNode) // true
nodeType 상수와 비교해보면 노드타입을 알 수 있습니다. 웹 브라우저에서 모든 노드 타입을 지원하진 않습니다. 개발자가 가장 자주 다루는 노드는 요소노드(ELEMENT_NODE)와 텍스트 노드(TEXT_NODE) 입니다.

nodeName, nodeValue 프로퍼티

두 프로퍼티는 nodeName - 노드의 태그 이름, nodeValue - null 같은 해당 노드 정보를 제공합니다. 프로퍼티 값은 노드 타입에 따라 완전히 다릅니다. 이 값을 사용하기 전에 항상 노드 타입을 테스트하길 권합니다.

if (h1.nodeType === 1) {
  console.log(h1.nodeName) // H1
}
노드 사이의 관계

모든 노드는 다른 노드와 관계가 있습니다. 이런 관계는 문서 트리를 갖ㄱ ❤️

# 그래프로 연결하기

- [그래프로 연결하기](#그래프로-연결하기)

## 그래프

그래프는 데이터가 어떻게 연결되는지 쉽게 이해할 수 있는, 관계에 특화된 자료 구조입니다.

<img src="https://www.google.com/url?sa=i&url=https%3A%2F%2Fkim6394.tistory.com%2F228&psig=AOvVaw29rkB5y4RKaJ1T6FTDZc2o&ust=1621635709831000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCOCZkYym2fACFQAAAAAdAAAAABAJ" width=400>

* 그래프 용어
  * **정점** :: 각 노드
  * **간선** :: 각 선 이라고 부릅니다. 
  * **인접** :: 간선으로 연결된 정점들을 서로 인접 하다고 말합니다.

그래프를 구현하는 방법은 많지만, 가장 간단한 방법중 하나는 [해시 테이블](210421_해시테이블.md) 을 사용하는 방법입니다.

``` ruby
    friends = {
        "Alice" => ["Bob", "Diana", "Fred"],
        "Bob" => ["Alice", "Cynthia", "Diana"],
        "Cynthia" => ["Bob"],
        "Diana" => ["Alice", "Bob", "Fred"],
        "Elise" => ["Fred"],
        "Fred" => ["Alice", "Diana", "Elise"],
    }
```

해시 테이블의 모든 키 값은 한 단계로 찾을 수 있으므로 그래프를 쓰면 페이스북에서, Alice 의 친구를 `O(1)` 에 찾을 수 있습니다.

그러나 트위터에서는 관계가 상호적이지 않습니다.

``` ruby
    folloewees = {
        "Alice" => ["Bob", "Cynthia"],
        "Bob" => ["Cynthia"],
        "Cynthia" => ["Bob"]
    }
```

페이스북과 트위터 예제는 서로 비슷하지만 각각 관계의 본질이 다릅니다.

트위터의 관계는 방향성이 있으므로 그림으로 표현할 때 화살표를 사용하고, 이러한 그래프를 **방향 그래프**라고 부릅니다. 페이스북에서는 관계가 상호적이고 단순 선을 사용하므로 그래프를 **무방향 그래프**라 부릅니다.

``` js
    class Person {
        constructor (name) {
            this.name = name
            this.friends = []
        }

        addFriends (friend) {
            this.friends.push(friend)
        }
    }

    const mary = new Person('Mary')
    const peter = new Person('Peter')

    mary.addFriends(peter)
    peter.addFriends(mary)
    console.log(mary)
```

## 너비 우선 탐색

링크드인은 직접 네트워크 외에 2차, 3차 커넥션을 정할 수 있는 부분이 있습니다.
```
    [ Alice ]  ------  [ Bob ]  ------  [ Cynthia ]
```

여기서 Cynthia 는 Bob을 퉁해 Alice와 연결되므로 Cynthia를 Alice의 **2차 커넥션**이라 부릅니다.

그래프를 순회하는 전형적인 방법은 1. **너비 우선 탐색** 과 2. **깊이 우선 탐색** 이 있습니다. 두 방법은 유사하고 똑같이 동작합니다.

너비 우선 탐색 알고리즘은 다음으로 처리할 정점을 추적하기 위해 [큐](210423_스택과%20큐.md) 를 사용합니다. 최초의 큐는 시작점 (Alice) 만 포함합니다.

이어서 다음의 세 단계를 따릅니다.

1. 현재 정점과 인접한 각 정점을 방문합니다. 이전에 방문한 적 없는 정점일 경우, 방문했다고 표시하고, 큐에 추가합니다.
2. 현재 정점에 인접한 정점을 모두 방문했으면 큐로부터 다음 정점을 제고해서 현재 정점으로 만듭니다.
3. 현재 정점에 인접한 정점을 모두 방문했고, 큐에 더이상 정점이 없으면 알고리즘을 종료합니다.




## 그래프 데이터 베이스

## 가중 그래프

## 데이크스트라의 알고리즘

## 마무리